{"remainingRequest":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\src\\views\\personal-information-manage\\Personal.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\src\\views\\personal-information-manage\\Personal.vue","mtime":1741681638998},{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovTWljcm9zb2Z0IFZTIENvZGUvdnMgY29kZS9cdThGNkZcdTRFRjZcdTk4NzlcdTc2RUVcdTdCQTFcdTc0MDYvXHU1OTI3XHU1QjlFXHU0RjhCL1x1NTI0RFx1NTQwRVx1N0FFRlx1NkU5MFx1NzgwMS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBVc2VyQVBJIGZyb20gJ0AvYXBpL3VzZXInOwppbXBvcnQgU2ltcGxlU2VsZWN0IGZyb20gJ0AvY29tcG9uZW50cy9TaW1wbGVTZWxlY3QnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1BlcnNvbmFsJywKICBjb21wb25lbnRzOiB7CiAgICBTaW1wbGVTZWxlY3Q6IFNpbXBsZVNlbGVjdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVkaXRhYmxlOiBmYWxzZSwKICAgICAgdXNlcklkOiB0aGlzLiRzdG9yZS5nZXR0ZXJzLnVzZXJJbmZvLmlkLAogICAgICBmb3JtOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuJHN0b3JlLmdldHRlcnMudXNlckluZm8pKSwKICAgICAgZm9ybVJ1bGU6IHsKICAgICAgICBhY2NvdW50OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl55m75b2V6LSm5Y+3JwogICAgICAgIH1dLAogICAgICAgIG5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXnlKjmiLflp5PlkI0nCiAgICAgICAgfV0sCiAgICAgICAgZGVwYXJ0bWVudElkOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICBtZXNzYWdlOiAn6YOo6Zeo5LiN6IO95Li656m6JwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNlYXJjaEtleTogZnVuY3Rpb24gc2VhcmNoS2V5KCkgewogICAgICByZXR1cm4gewogICAgICAgIHBhcmVudElkOiB0aGlzLmZvcm0uc2Nob29sSWQsCiAgICAgICAgdGhlTGV2ZWw6IDMKICAgICAgfTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIG9uU2ltcGxlU2VsZWN0Q2hhbmdlOiBmdW5jdGlvbiBvblNpbXBsZVNlbGVjdENoYW5nZSh2YWwsIGZpZWxkLCBvcHRpb25zKSB7CiAgICAgIHRoaXMuJHNldCh0aGlzLmZvcm0sICdkZXBhcnRtZW50SWQnLCB2YWwpOwogICAgfSwKICAgIC8vIOS/neWtmOS4quS6uuS/oeaBrwogICAgaGFuZGxlU2F2ZTogZnVuY3Rpb24gaGFuZGxlU2F2ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy4kcmVmcy5tYWluRm9ybS52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUodmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgb2JqOwogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gdHJ1ZTsgLy8g5L+h5oGv5L+d5a2YCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmogPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzLmZvcm0pKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFVzZXJBUEkuZWRpdFVzZXJJbmZvKF90aGlzLnVzZXJJZCwgb2JqKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCd1c2VyL3VwZGF0ZVVzZXJJbmZvJywgb2JqKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv53lrZjmiJDlip/vvIEnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzIsIDExXV0pOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Personal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA,OAAA,OAAA,MAAA,YAAA;AACA,OAAA,YAAA,MAAA,2BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,YAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,MAAA,EAAA,KAAA,MAAA,CAAA,OAAA,CAAA,QAAA,CAAA,EAFA;AAGA,MAAA,IAAA,EAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,KAAA,MAAA,CAAA,OAAA,CAAA,QAAA,CAAA,CAHA;AAIA,MAAA,QAAA,EAAA;AACA,QAAA,OAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CADA;AAEA,QAAA,IAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CAFA;AAGA,QAAA,YAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AAHA,OAJA;AASA,MAAA,OAAA,EAAA;AATA,KAAA;AAYA,GAhBA;AAiBA,EAAA,QAAA,EAAA;AACA,IAAA,SADA,uBACA;AACA,aAAA;AAAA,QAAA,QAAA,EAAA,KAAA,IAAA,CAAA,QAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OAAA;AACA;AAHA,GAjBA;AAsBA,EAAA,OAAA,EAAA;AACA,IAAA,oBADA,gCACA,GADA,EACA,KADA,EACA,OADA,EACA;AACA,WAAA,IAAA,CAAA,KAAA,IAAA,EAAA,cAAA,EAAA,GAAA;AACA,KAHA;AAIA;AACA,IAAA,UALA,wBAKA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAAA,QAAA;AAAA,qFAAA,iBAAA,KAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCACA,KADA;AAAA;AAAA;AAAA;;AAEA,4BAAA,KAAA,CAAA,OAAA,GAAA,IAAA,CAFA,CAGA;;AAHA;AAKA,4BAAA,GALA,GAKA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,KAAA,CAAA,IAAA,CAAA,CALA;AAAA;AAAA,mCAMA,OAAA,CAAA,YAAA,CAAA,KAAA,CAAA,MAAA,EAAA,GAAA,CANA;;AAAA;AAOA,4BAAA,KAAA,CAAA,MAAA,CAAA,QAAA,CAAA,qBAAA,EAAA,GAAA;;AACA,4BAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,OAAA;;AACA,4BAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AATA;AAAA;;AAAA;AAAA;AAAA;AAWA,4BAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAA;;AAAA;AAAA;AAAA;AAAA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AArBA;AAtBA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <el-form ref=\"mainForm\" :model=\"form\" :rules=\"formRule\" label-position=\"right\" label-width=\"120px\" class=\"personal-form\" label-suffix=\":\">\r\n      <el-form-item label=\"账号\" prop=\"account\">\r\n        <el-input v-model=\"form.account\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"姓名\" prop=\"name\">\r\n        <el-input v-model=\"form.name\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"性别\">\r\n        <el-radio-group v-model=\"form.sex\">\r\n          <el-radio label=\"男\">男</el-radio>\r\n          <el-radio label=\"女\">女</el-radio>\r\n        </el-radio-group>\r\n      </el-form-item>\r\n      <el-form-item label=\"所在学校/单位\">\r\n        <div>{{ form.schoolName || '--' }}</div>\r\n      </el-form-item>\r\n      <el-form-item label=\"所在院系/部门\" prop=\"departmentId\">\r\n        <!-- @update-value=\"onSimpleSelectChange\" @init-finish=\"simpleSelectInitFinish\" -->\r\n        <SimpleSelect v-model=\"form.departmentId\" key-words=\"BaseDepartment\" :search-key=\"searchKey\" @update-value=\"onSimpleSelectChange\"  />\r\n      </el-form-item>\r\n      <el-form-item label=\"身份类型\">\r\n        <div>{{ form.jobName || '--' }}</div>\r\n      </el-form-item>\r\n      <el-form-item label=\"身份证号\">\r\n        <el-input v-model=\"form.idCard\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"电子邮箱\">\r\n        <el-input v-model=\"form.email\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"联系地址\">\r\n        <el-input v-model=\"form.address\" />\r\n      </el-form-item>\r\n      <el-form-item label=\"邮政编码\">\r\n        <el-input v-model=\"form.postalCode\" />\r\n      </el-form-item>\r\n    </el-form>\r\n    <div class=\"button-group\">\r\n      <!-- <el-button size=\"mini\" plain round @click=\"$router.go(-1)\">\r\n        返 回\r\n      </el-button> -->\r\n      <el-button size=\"mini\" type=\"primary\" round :loading=\"loading\" @click=\"handleSave()\">\r\n        保 存\r\n      </el-button>\r\n    </div>    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport UserAPI from '@/api/user'\r\nimport SimpleSelect from '@/components/SimpleSelect'\r\n\r\nexport default {\r\n  name: 'Personal',\r\n  components: { SimpleSelect },\r\n  data() {\r\n    return {\r\n      editable: false,\r\n      userId: this.$store.getters.userInfo.id,\r\n      form: JSON.parse(JSON.stringify(this.$store.getters.userInfo)),\r\n      formRule: {\r\n        account: [{ required: true, trigger: 'blur', message: '请输入登录账号' }],\r\n        name: [{ required: true, trigger: 'blur', message: '请输入用户姓名' }],\r\n        departmentId: [{ required: true, trigger: 'blur', message: '部门不能为空' }]\r\n      },\r\n      loading: false\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    searchKey() {\r\n      return { parentId: this.form.schoolId, theLevel: 3 }\r\n    }\r\n  },\r\n  methods: {\r\n    onSimpleSelectChange(val, field, options) {\r\n      this.$set(this.form, 'departmentId', val)\r\n    },\r\n    // 保存个人信息\r\n    async handleSave() {\r\n      this.$refs.mainForm.validate(async valid => {\r\n        if (valid) {\r\n          this.loading = true\r\n          // 信息保存\r\n          try {\r\n            const obj = JSON.parse(JSON.stringify(this.form))\r\n            await UserAPI.editUserInfo(this.userId, obj)\r\n            this.$store.dispatch('user/updateUserInfo', obj)\r\n            this.$message.success('保存成功！')\r\n            this.loading = false\r\n          } catch (error) {\r\n            this.loading = false\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"~@/assets/css/element-variables.scss\";\r\n.el-form {\r\n  width: fit-content;\r\n  margin-left: 12%;\r\n}\r\n.personal-form {\r\n  &::v-deep .el-form-item__label {\r\n    color: #afb1b5;\r\n  }\r\n  &::v-deep .el-form-item__content {\r\n    margin-left: 150px !important;\r\n  }\r\n}\r\ninput {\r\n  outline: none;\r\n}\r\n.svg-icon {\r\n  cursor: pointer;\r\n  margin-left: 50px;\r\n  color: #1890ff;\r\n  &:hover {\r\n    color: $--color-primary;\r\n  }\r\n}\r\n.button-group {\r\n  margin-left: 36%;\r\n  margin-bottom: 40px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/personal-information-manage"}]}