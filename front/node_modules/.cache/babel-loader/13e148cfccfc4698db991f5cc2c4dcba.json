{"remainingRequest":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\src\\utils\\forDialog.js","dependencies":[{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\src\\utils\\forDialog.js","mtime":1741681638898},{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovTWljcm9zb2Z0IFZTIENvZGUvdnMgY29kZS9cdThGNkZcdTRFRjZcdTk4NzlcdTc2RUVcdTdCQTFcdTc0MDYvXHU1OTI3XHU1QjlFXHU0RjhCL1x1NTI0RFx1NTQwRVx1N0FFRlx1NkU5MFx1NzgwMS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCB0cmVlQVBJIGZyb20gJ0AvYXBpL3RyZWUnOwppbXBvcnQgbGlzdEFQSSBmcm9tICdAL2FwaS9saXN0JzsKaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21tb25TdWJtaXREbGc6IGNvbW1vblN1Ym1pdERsZywKICBjb21tb25TdWJtaXRUcmVlRGxnOiBjb21tb25TdWJtaXRUcmVlRGxnCn07IC8vIOS/neWtmOWIl+ihqOaIluagkee7k+aehOeahOihqOWNlQoKZnVuY3Rpb24gY29tbW9uU3VibWl0RGxnKF94LCBfeDIsIF94MywgX3g0LCBfeDUsIF94NiwgX3g3KSB7CiAgcmV0dXJuIF9jb21tb25TdWJtaXREbGcuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX2NvbW1vblN1Ym1pdERsZygpIHsKICBfY29tbW9uU3VibWl0RGxnID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihmb3JtUGFuZWwsIGZvcm1EYXRhLCBrZXlXb3Jkcywgb3B0aW9uLCBpc1RyZWUsIGlzQXVkaXQsIHVzZXJJZCkgewogICAgdmFyIHJlc0luZm8sIG9wLCBwYXJhbXM7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBvcCA9ICcnOwogICAgICAgICAgICBfY29udGV4dDIudDAgPSBvcHRpb247CiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gX2NvbnRleHQyLnQwID09PSAnYXBwZW5kJyA/IDQgOiBfY29udGV4dDIudDAgPT09ICdlZGl0JyA/IDYgOiBfY29udGV4dDIudDAgPT09ICdhdWRpdCcgPyA4IDogX2NvbnRleHQyLnQwID09PSAnc3VibWl0JyA/IDEwIDogMTI7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgb3AgPSAn5paw5aKeJzsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTIpOwoKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgb3AgPSAn5L+u5pS5JzsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTIpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgb3AgPSAn5a6h5qC4JzsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoImJyZWFrIiwgMTIpOwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIG9wID0gJ+aPkOS6pCc7CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJicmVhayIsIDEyKTsKCiAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE0OwogICAgICAgICAgICByZXR1cm4gZm9ybVBhbmVsLnZhbGlkYXRlKCk7CgogICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgaWYgKCFfY29udGV4dDIuc2VudCkgewogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzQ7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGNvbnN0IHBhcmFtcyA9IGZpbHRlckxhc3RJZChmb3JtRGF0YSkKICAgICAgICAgICAgcGFyYW1zID0gZm9ybURhdGE7CgogICAgICAgICAgICBpZiAoaXNBdWRpdCkgewogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghaXNUcmVlKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMzsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMDsKICAgICAgICAgICAgcmV0dXJuIHRyZWVBUEkuZWRpdE9uZU5vZGUoa2V5V29yZHMsIHBhcmFtcyk7CgogICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgcmVzSW5mbyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI2OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI1OwogICAgICAgICAgICByZXR1cm4gbGlzdEFQSS5lZGl0T25lTm9kZShrZXlXb3JkcywgcGFyYW1zKTsKCiAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICByZXNJbmZvID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgcGFyYW1zLmF1ZGl0VXNlcklkID0gdXNlcklkOwogICAgICAgICAgICBwYXJhbXMuYXVkaXRUaW1lID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzMjsKICAgICAgICAgICAgcmV0dXJuIGxpc3RBUEkuZWRpdE9uZU5vZGUoa2V5V29yZHMsIHBhcmFtcyk7CgogICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgcmVzSW5mbyA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgIGNhc2UgMzM6CiAgICAgICAgICAgIGlmIChyZXNJbmZvLm1lc3NhZ2UgPT09ICdzdWNjZXNzZnVsJykgewogICAgICAgICAgICAgIE1lc3NhZ2Uuc3VjY2VzcygiIi5jb25jYXQob3AsICJcdTYyMTBcdTUyOUZcdUZGMDEiKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgTWVzc2FnZS53YXJuaW5nKHJlc0luZm8ubWVzc2FnZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICBjYXNlIDM0OgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgcmVzSW5mbyk7CgogICAgICAgICAgY2FzZSAzNToKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZTIpOwogIH0pKTsKICByZXR1cm4gX2NvbW1vblN1Ym1pdERsZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwp9CgpmdW5jdGlvbiBmaWx0ZXJMYXN0SWQoZGF0YSkgewogIC8vIOmBjeWOhmRhdGHvvIzlpoLmnpxkYXRh5Lit5ZCr5pyJ5pWw57uE5bm25LiUa2V55LiN5piv5aSN5pWw5b2i5byP5bCx5Y+W5pWw57uE55qE5pyA5ZCO5LiA57qnaWQKICBPYmplY3Qua2V5cyhkYXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgIGlmIChkYXRhW2tleV0gaW5zdGFuY2VvZiBBcnJheSkgewogICAgICAvLyDku47ljZXor43nmoTmnIDlkI7kuIDkuKrlrZfmr43mmK/lkKbkuLogcyDliKTmlq3or6XljZXor43mmK/lkKbkuLrlpI3mlbDvvIjlkI7nq6/lv4Xpobvop4TojIPlkb3lkI3vvIkKICAgICAgLy8gaXNBcnJheU9mSWRzIOWIpOaWreaYr+WQpuaYryBpZCDnmoTpm4blkIjvvIjmoJHnu5PmnoTpnIDopoHmjpLpmaRjaGlsZExpc3TvvIkKICAgICAgdmFyIGlzQXJyYXlPZklkcyA9ICEoa2V5LnN1YnN0cmluZyhrZXkubGVuZ3RoIC0gMSkgPT09ICdzJykgJiYga2V5ICE9PSAnY2hpbGRMaXN0JzsKCiAgICAgIGlmIChpc0FycmF5T2ZJZHMpIHsKICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YVtrZXldLmxlbmd0aDsKICAgICAgICBkYXRhW2tleV0gPSBkYXRhW2tleV1bbGVuZ3RoIC0gMV07CiAgICAgIH0KICAgIH0KICB9KTsKICByZXR1cm4gZGF0YTsKfSAvLyDkv53lrZjmoJHnu5PmnoTnmoTooajljZUKCgpmdW5jdGlvbiBjb21tb25TdWJtaXRUcmVlRGxnKGZvcm0sIGZvcm1EYXRhLCBrZXlXb3JkcywgZGlhbG9nKSB7CiAgdmFyIHNhdmVUeXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAnJzsKICAvLyDlsIbmlrDlop7lkI7nmoTnu5Pngrnkv6Hmga/kvKDlm54KICB2YXIgcmVzSW5mbyA9IHsKICAgIHN1Y2Nlc3NGbGFnOiBmYWxzZSwKICAgIG5vZGVJbmZvOiB7fQogIH07CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICBmb3JtLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh2YWxpZCkgewogICAgICAgIHZhciBvcHRpb24sIHBhcmFtcywgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIG9wdGlvbiA9IGRpYWxvZy5vcHRpb24gPT09ICdhcHBlbmQnID8gJ+aWsOWinicgOiAn5L+u5pS5JzsKICAgICAgICAgICAgICAgIHBhcmFtcyA9IGZpbHRlckxhc3RJZChmb3JtRGF0YSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiB0cmVlQVBJLmVkaXRPbmVOb2RlKGtleVdvcmRzLCBwYXJhbXMpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChzYXZlVHlwZSA9PT0gJ2NvbnRpbnVlJykgewogICAgICAgICAgICAgICAgICBmb3JtLnJlc2V0RmllbGRzKCk7CiAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIGZvcm0uaWQgPSByZXMuZGF0YS5ub2RlSW5mby5pZDsKICAgICAgICAgICAgICAgICAgcmVzSW5mby5zdWNjZXNzRmxhZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIHJlc0luZm8ubm9kZUluZm8gPSByZXMuZGF0YS5ub2RlSW5mbzsKICAgICAgICAgICAgICAgICAgZGlhbG9nLnNob3cgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBNZXNzYWdlLnN1Y2Nlc3MoIiIuY29uY2F0KG9wdGlvbiwgIlx1NjIxMFx1NTI5Rlx1RkYwMSIpKTsKICAgICAgICAgICAgICAgIHJlc29sdmUocmVzSW5mbyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MDsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMSwgMTJdXSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g4KSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKSk7CiAgfSk7Cn0KClZ1ZS5kaXJlY3RpdmUoJ2RpYWxvZ0RyYWcnLCB7CiAgYmluZDogZnVuY3Rpb24gYmluZChlbCwgYmluZGluZywgdm5vZGUsIG9sZFZub2RlKSB7CiAgICB2YXIgZGlhbG9nSGVhZGVyRWwgPSBlbC5xdWVyeVNlbGVjdG9yKCcuZWwtZGlhbG9nX19oZWFkZXInKTsKICAgIHZhciBkcmFnRG9tID0gZWwucXVlcnlTZWxlY3RvcignLmVsLWRpYWxvZycpOwogICAgZGlhbG9nSGVhZGVyRWwuc3R5bGUuY3Vyc29yID0gJ21vdmUnOyAvLyDojrflj5bljp/mnInlsZ7mgKcgaWUgZG9t5YWD57SgLmN1cnJlbnRTdHlsZSDngavni5DosLfmrYwgd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9t5YWD57SgLCBudWxsKTsKCiAgICB2YXIgc3R5ID0gZHJhZ0RvbS5jdXJyZW50U3R5bGUgfHwgd2luZG93LmdldENvbXB1dGVkU3R5bGUoZHJhZ0RvbSwgbnVsbCk7CgogICAgZGlhbG9nSGVhZGVyRWwub25tb3VzZWRvd24gPSBmdW5jdGlvbiAoZSkgewogICAgICAvLyDpvKDmoIfmjInkuIvvvIzorqHnrpflvZPliY3lhYPntKDot53nprvlj6/op4bljLrnmoTot53nprsKICAgICAgdmFyIGRpc1ggPSBlLmNsaWVudFggLSBkaWFsb2dIZWFkZXJFbC5vZmZzZXRMZWZ0OwogICAgICB2YXIgZGlzWSA9IGUuY2xpZW50WSAtIGRpYWxvZ0hlYWRlckVsLm9mZnNldFRvcDsgLy8g6I635Y+W5Yiw55qE5YC85bimcHgg5q2j5YiZ5Yy56YWN5pu/5o2iCgogICAgICB2YXIgc3R5TCwgc3R5VDsgLy8g5rOo5oSP5ZyoaWXkuK0g56ys5LiA5qyh6I635Y+W5Yiw55qE5YC85Li657uE5Lu26Ieq5bimNTAlIOenu+WKqOS5i+WQjui1i+WAvOS4unB4CgogICAgICBpZiAoc3R5LmxlZnQuaW5jbHVkZXMoJyUnKSkgewogICAgICAgIHN0eUwgPSArZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCAqICgrc3R5LmxlZnQucmVwbGFjZSgvXCUvZywgJycpIC8gMTAwKTsKICAgICAgICBzdHlUID0gK2RvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0ICogKCtzdHkudG9wLnJlcGxhY2UoL1wlL2csICcnKSAvIDEwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3R5TCA9ICtzdHkubGVmdC5yZXBsYWNlKC9ccHgvZywgJycpOwogICAgICAgIHN0eVQgPSArc3R5LnRvcC5yZXBsYWNlKC9ccHgvZywgJycpOwogICAgICB9CgogICAgICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgLy8g6YCa6L+H5LqL5Lu25aeU5omY77yM6K6h566X56e75Yqo55qE6Led56a7CiAgICAgICAgdmFyIGwgPSBlLmNsaWVudFggLSBkaXNYOwogICAgICAgIHZhciB0ID0gZS5jbGllbnRZIC0gZGlzWTsgLy8g56e75Yqo5b2T5YmN5YWD57SgCgogICAgICAgIGRyYWdEb20uc3R5bGUubGVmdCA9ICIiLmNvbmNhdChsICsgc3R5TCwgInB4Iik7CiAgICAgICAgZHJhZ0RvbS5zdHlsZS50b3AgPSAiIi5jb25jYXQodCArIHN0eVQsICJweCIpOyAvLyDlsIbmraTml7bnmoTkvY3nva7kvKDlh7rljrsKICAgICAgICAvLyBiaW5kaW5nLnZhbHVlKHt4OmUucGFnZVgseTplLnBhZ2VZfSkKICAgICAgfTsKCiAgICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBudWxsOwogICAgICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IG51bGw7CiAgICAgIH07CiAgICB9OwogIH0KfSk7"},{"version":3,"sources":["D:/Microsoft VS Code/vs code/软件项目管理/大实例/前后端源码/front/src/utils/forDialog.js"],"names":["treeAPI","listAPI","Message","Vue","commonSubmitDlg","commonSubmitTreeDlg","formPanel","formData","keyWords","option","isTree","isAudit","userId","op","validate","params","editOneNode","resInfo","auditUserId","auditTime","Date","message","success","warning","filterLastId","data","Object","keys","forEach","key","Array","isArrayOfIds","substring","length","form","dialog","saveType","successFlag","nodeInfo","Promise","resolve","valid","res","resetFields","id","show","directive","bind","el","binding","vnode","oldVnode","dialogHeaderEl","querySelector","dragDom","style","cursor","sty","currentStyle","window","getComputedStyle","onmousedown","e","disX","clientX","offsetLeft","disY","clientY","offsetTop","styL","styT","left","includes","document","body","clientWidth","replace","clientHeight","top","onmousemove","l","t","onmouseup"],"mappings":"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","sourcesContent":["\r\nimport treeAPI from '@/api/tree'\r\nimport listAPI from '@/api/list'\r\nimport { Message } from 'element-ui'\r\nimport Vue from 'vue'\r\n\r\nexport default {\r\n  commonSubmitDlg,\r\n  commonSubmitTreeDlg\r\n}\r\n\r\n// 保存列表或树结构的表单\r\nasync function commonSubmitDlg(formPanel, formData, keyWords, option, isTree, isAudit, userId) {\r\n  var resInfo\r\n  var op = ''\r\n  switch (option) {\r\n    case 'append': op = '新增'\r\n      break\r\n    case 'edit': op = '修改'\r\n      break\r\n    case 'audit': op = '审核'\r\n      break\r\n    case 'submit': op = '提交'\r\n      break\r\n  }\r\n  if (await formPanel.validate()) {\r\n    // const params = filterLastId(formData)\r\n    const params = formData\r\n    if (!isAudit) {\r\n      if (isTree) {\r\n        resInfo = await treeAPI.editOneNode(keyWords, params)\r\n      } else {\r\n        resInfo = await listAPI.editOneNode(keyWords, params)\r\n      }\r\n    } else {\r\n      params.auditUserId = userId\r\n      params.auditTime = new Date()\r\n      resInfo = await listAPI.editOneNode(keyWords, params)\r\n    }\r\n    if (resInfo.message === 'successful') {\r\n      Message.success(`${op}成功！`)\r\n    } else {\r\n      Message.warning(resInfo.message)\r\n    }\r\n  }\r\n  return resInfo\r\n}\r\n\r\nfunction filterLastId(data) {\r\n  // 遍历data，如果data中含有数组并且key不是复数形式就取数组的最后一级id\r\n  Object.keys(data).forEach(key => {\r\n    if (data[key] instanceof Array) {\r\n      // 从单词的最后一个字母是否为 s 判断该单词是否为复数（后端必须规范命名）\r\n      // isArrayOfIds 判断是否是 id 的集合（树结构需要排除childList）\r\n      const isArrayOfIds = !(key.substring(key.length - 1) === 's') && (key !== 'childList')\r\n      if (isArrayOfIds) {\r\n        const length = data[key].length\r\n        data[key] = data[key][length - 1]\r\n      }\r\n    }\r\n  })\r\n  return data\r\n}\r\n\r\n// 保存树结构的表单\r\nfunction commonSubmitTreeDlg(form, formData, keyWords, dialog, saveType = '') {\r\n  // 将新增后的结点信息传回\r\n  var resInfo = {\r\n    successFlag: false,\r\n    nodeInfo: {}\r\n  }\r\n  return new Promise(resolve => {\r\n    form.validate(async valid => {\r\n      if (valid) {\r\n        try {\r\n          const option = dialog.option === 'append' ? '新增' : '修改'\r\n          const params = filterLastId(formData)\r\n          var res = await treeAPI.editOneNode(keyWords, params)\r\n          if (saveType === 'continue') {\r\n            form.resetFields()\r\n            resolve()\r\n          } else {\r\n            form.id = res.data.nodeInfo.id\r\n            resInfo.successFlag = true\r\n            resInfo.nodeInfo = res.data.nodeInfo\r\n            dialog.show = false\r\n          }\r\n          Message.success(`${option}成功！`)\r\n          resolve(resInfo)\r\n        } catch (error) {\r\n          error\r\n        }\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\nVue.directive('dialogDrag', {\r\n  bind(el, binding, vnode, oldVnode) {\r\n    const dialogHeaderEl = el.querySelector('.el-dialog__header')\r\n    const dragDom = el.querySelector('.el-dialog')\r\n    dialogHeaderEl.style.cursor = 'move'\r\n    // 获取原有属性 ie dom元素.currentStyle 火狐谷歌 window.getComputedStyle(dom元素, null);\r\n    const sty = dragDom.currentStyle || window.getComputedStyle(dragDom, null)\r\n    dialogHeaderEl.onmousedown = (e) => {\r\n    // 鼠标按下，计算当前元素距离可视区的距离\r\n      const disX = e.clientX - dialogHeaderEl.offsetLeft\r\n      const disY = e.clientY - dialogHeaderEl.offsetTop\r\n      // 获取到的值带px 正则匹配替换\r\n      let styL, styT\r\n      // 注意在ie中 第一次获取到的值为组件自带50% 移动之后赋值为px\r\n      if (sty.left.includes('%')) {\r\n        styL = +document.body.clientWidth * (+sty.left.replace(/\\%/g, '') / 100)\r\n        styT = +document.body.clientHeight * (+sty.top.replace(/\\%/g, '') / 100)\r\n      } else {\r\n        styL = +sty.left.replace(/\\px/g, '')\r\n        styT = +sty.top.replace(/\\px/g, '')\r\n      }\r\n\r\n      document.onmousemove = function(e) {\r\n        // 通过事件委托，计算移动的距离\r\n        const l = e.clientX - disX\r\n        const t = e.clientY - disY\r\n        // 移动当前元素\r\n        dragDom.style.left = `${l + styL}px`\r\n        dragDom.style.top = `${t + styT}px`\r\n        // 将此时的位置传出去\r\n        // binding.value({x:e.pageX,y:e.pageY})\r\n      }\r\n\r\n      document.onmouseup = function(e) {\r\n        document.onmousemove = null\r\n        document.onmouseup = null\r\n      }\r\n    }\r\n  }\r\n})\r\n"]}]}