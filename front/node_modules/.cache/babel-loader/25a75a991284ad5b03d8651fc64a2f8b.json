{"remainingRequest":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\src\\components\\BtnSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\src\\components\\BtnSearch.vue","mtime":1741681638428},{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovTWljcm9zb2Z0IFZTIENvZGUvdnMgY29kZS9cdThGNkZcdTRFRjZcdTk4NzlcdTc2RUVcdTdCQTFcdTc0MDYvXHU1OTI3XHU1QjlFXHU0RjhCL1x1NTI0RFx1NTQwRVx1N0FFRlx1NkU5MFx1NzgwMS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHJlc2V0Rm9ybSB9IGZyb20gJ0AvdXRpbHMvY29tbW9uJzsKaW1wb3J0IF8gZnJvbSAnbG9kYXNoJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCdG5TZWFyY2gnLAogIC8vIOm7mOiupOaDheWGteS4i++8jOS4gOS4que7hOS7tuS4iueahCB2LW1vZGVsIOS8muaKiiB2YWx1ZSDnlKjkvZwgcHJvcCDkuJTmioogaW5wdXQg55So5L2cIGV2ZW50CiAgbW9kZWw6IHsKICAgIHByb3A6ICd2YWx1ZScsCiAgICAvLyDms6jmhI/vvIzmmK9wcm9w77yM5LiN5bimcwogICAgZXZlbnQ6ICdpbnB1dCcKICB9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBbT2JqZWN0LCBTdHJpbmddLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIC8vIOeItue7hOS7tiB2LW1vZGVsIOe7keWumuWAvAogICAgLy8g5LiN5pi+56S66auY57qn5pCc57SiCiAgICBub0FkdmFuY2VkU2VhcmNoOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgc2VhcmNoSXRlbXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIHBsYWNlaG9sZGVyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ+ivt+i+k+WFpeWQjeensCcKICAgIH0sCiAgICBzZWFyY2hOYW1lOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIEFycmF5XSwKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB3YWl0U2VhcmNoOiBbXSwKICAgICAgaW5wdXQ6ICcnLAogICAgICBvcHRpb25zOiBbXSwKICAgICAgY3VycmVudEZpZWxkOiAnJywKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICB3YXRjaDogey8vIHdhaXRTZWFyY2g6IHsKICAgIC8vICAgaGFuZGxlcihuZXdWYWwpIHsKICAgIC8vICAgICAvLyDniLbnu4Tku7bmnIkgdi1tb2RlbCDml7bnmoTmk43kvZwKICAgIC8vICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIG5ld1ZhbCkKICAgIC8vICAgICAvLyDmmK/lkKbmmK/nqbrlrZfnrKbkuLLvvIhuby1hZHZhbmNlZC1zZWFyY2ggPT09IHRydWXvvIkKICAgIC8vICAgICBjb25zdCBibGFua1N0cmluZyA9IGdldFZhbHVlVHlwZShuZXdWYWwpID09PSAnc3RyaW5nJyAmJiBuZXdWYWwgPT09ICcnCiAgICAvLyAgICAgLy8g5piv5ZCm5piv5a+56LGh5bm25LiU5a+56LGh5Lit55qE5YC85YWo5Li656m677yIbm8tYWR2YW5jZWQtc2VhcmNoID09PSBmYWxzZe+8iQogICAgLy8gICAgIGNvbnN0IGJsYW5rU3RyaW5nT2JqZWN0ID0gZ2V0VmFsdWVUeXBlKG5ld1ZhbCkgPT09ICdvYmplY3QnICYmIGlzT2JqRW1wdHkobmV3VmFsKQogICAgLy8gICAgIGlmIChibGFua1N0cmluZyB8fCBibGFua1N0cmluZ09iamVjdCkgewogICAgLy8gICAgICAgdGhpcy4kZW1pdCgnc2VhcmNoJywgbmV3VmFsKQogICAgLy8gICAgIH0KICAgIC8vICAgfSwKICAgIC8vICAgZGVlcDogdHJ1ZQogICAgLy8gfQogIH0sCiAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoKSB7CiAgICB0aGlzLndhaXRTZWFyY2ggPSBfLmNsb25lRGVlcCh0aGlzLnZhbHVlKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUZvY3VzOiBmdW5jdGlvbiBoYW5kbGVGb2N1cyh2YWwpIHsvLyBpZiAodGhpcy5jdXJyZW50RmllbGQgPT09IHZhbC5maWVsZCkgcmV0dXJuCiAgICAgIC8vIHRoaXMuY3VycmVudEZpZWxkID0gdmFsLmZpZWxkCiAgICAgIC8vIGNvbnN0IGluZGV4ID0gdGhpcy5zZWFyY2hJdGVtcy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmZpZWxkID09PSB2YWwuZmllbGQpCiAgICAgIC8vIGlmIChpbmRleCA+PSAwKSB7CiAgICAgIC8vICAgdHJ5IHsKICAgICAgLy8gICAgIGlmICh2YWwudHlwZSA9PT0gJ2Nhc2NhZGVyJykgewogICAgICAvLyAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0cmVlQVBJLmdldEFsbE5vZGVzKHsKICAgICAgLy8gICAgICAgICBrZXlXb3JkczogdmFsLmtleVdvcmRzLAogICAgICAvLyAgICAgICAgIHZpcnR1YWxSb290RmxhZzogZmFsc2UKICAgICAgLy8gICAgICAgfSkKICAgICAgLy8gICAgICAgLy8g6Zmk5Y67Y2hpbGRyZW4KICAgICAgLy8gICAgICAgdGhpcy5zZWFyY2hJdGVtc1tpbmRleF0ub3B0aW9ucyA9IEpTT04ucGFyc2UoCiAgICAgIC8vICAgICAgICAgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEpLnJlcGxhY2UoL1wiY2hpbGRyZW4iXDpcW10vZywgJyJubyI6MCcpCiAgICAgIC8vICAgICAgICkKICAgICAgLy8gICAgIH0gZWxzZSBpZiAodmFsLnR5cGUgPT09ICdzZWxlY3QnKSB7CiAgICAgIC8vICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGxpc3RBUEkuZ2V0U29tZVJlY29yZHMoewogICAgICAvLyAgICAgICAgIGtleVdvcmRzOiB2YWwua2V5V29yZHMsIHBhZ2VJbmZvOiB7IHBhZ2U6IC0xIH0KICAgICAgLy8gICAgICAgfSkKICAgICAgLy8gICAgICAgdGhpcy5zZWFyY2hJdGVtc1tpbmRleF0ub3B0aW9ucyA9IHJlcy5kYXRhLmNvbnRlbnQKICAgICAgLy8gICAgIH0KICAgICAgLy8gICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgIC8vICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgLy8gICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgIC8vICAgfQogICAgICAvLyB9CiAgICAgIC8vIHRoaXMuJGVtaXQoJ2ZvY3VzJywgdmFsLmZpZWxkKQoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2VhcmNoQ2xpY2s6IGZ1bmN0aW9uIHNlYXJjaENsaWNrKHR5cGUpIHsKICAgICAgLy8gdGhpcy4kZW1pdCgnc2VhcmNoLWNsaWNrJywgdGhpcy53YWl0U2VhcmNoKQogICAgICBpZiAodHlwZSA9PT0gJ2NvbW1vbicpIHsKICAgICAgICB0aGlzLiRlbWl0KCdzZWFyY2gtY2xpY2snLCB0aGlzLmlucHV0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRlbWl0KCdhZHZhbmNlZC1zZWFyY2gtY2xpY2snLCB0aGlzLndhaXRTZWFyY2gpOwogICAgICB9CiAgICB9LAogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLndhaXRTZWFyY2ggPSByZXNldEZvcm0odGhpcy53YWl0U2VhcmNoKTsgLy8gdGhpcy4kZW1pdCgnc2VhcmNoLWNsaWNrJywgdGhpcy53YWl0U2VhcmNoKQogICAgfQogIH0KfTs="},{"version":3,"sources":["BtnSearch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,SAAA,SAAA,QAAA,gBAAA;AACA,OAAA,CAAA,MAAA,QAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,OADA;AACA;AACA,IAAA,KAAA,EAAA;AAFA,GAHA;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AAAA,MAAA,IAAA,EAAA,CAAA,MAAA,EAAA,MAAA,CAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KADA;AACA;AACA;AACA,IAAA,gBAAA,EAAA;AAAA,MAAA,IAAA,EAAA,OAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAHA;AAIA,IAAA,WAAA,EAAA;AAAA,MAAA,IAAA,EAAA,KAAA;AAAA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AAAA,KAJA;AAKA,IAAA,WAAA,EAAA;AAAA,MAAA,IAAA,EAAA,MAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KALA;AAMA,IAAA,UAAA,EAAA;AAAA,MAAA,IAAA,EAAA,CAAA,MAAA,EAAA,KAAA,CAAA;AAAA,MAAA,OAAA,EAAA;AAAA;AANA,GAPA;AAeA,EAAA,IAfA,kBAeA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,YAAA,EAAA,EAJA;AAKA,MAAA,OAAA,EAAA;AALA,KAAA;AAOA,GAvBA;AAwBA,EAAA,KAAA,EAAA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA,GAxBA;AAwCA,EAAA,MAxCA,oBAwCA;AACA,SAAA,UAAA,GAAA,CAAA,CAAA,SAAA,CAAA,KAAA,KAAA,CAAA;AACA,GA1CA;AA2CA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,uBACA,GADA,EACA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA1BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2BA,KA5BA;AA6BA,IAAA,WA7BA,uBA6BA,IA7BA,EA6BA;AACA;AACA,UAAA,IAAA,KAAA,QAAA,EAAA;AACA,aAAA,KAAA,CAAA,cAAA,EAAA,KAAA,KAAA;AACA,OAFA,MAEA;AACA,aAAA,KAAA,CAAA,uBAAA,EAAA,KAAA,UAAA;AACA;AACA,KApCA;AAqCA,IAAA,KArCA,mBAqCA;AACA,WAAA,UAAA,GAAA,SAAA,CAAA,KAAA,UAAA,CAAA,CADA,CAEA;AACA;AAxCA;AA3CA,CAAA","sourcesContent":["<template>\r\n  <div id=\"search-box\"> <!-- class=\"search-wrapper\" -->\r\n    <div v-if=\"noAdvancedSearch\" class=\"no-advanced-search\">\r\n      <el-input ref=\"inputInfo\" v-model.trim=\"input\" size=\"mini\" :placeholder=\"placeholder\" clearable />\r\n      <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-search\" @click=\"searchClick('common')\">搜索</el-button>\r\n    </div>\r\n    <div v-else class=\"advanced-search-field-box\">\r\n      <div v-for=\"(item, index) in searchItems\" :key=\"index\" class=\"search-item\">\r\n        <slot v-if=\"item.type.startsWith('customize')\" :name=\"item.slot\" />\r\n        <el-cascader v-if=\"item.type==='cascader'\" v-model=\"waitSearch[item.field]\" size=\"mini\" :loading=\"loading\" :options=\"item.options\" :props=\"{\r\n          label: 'name', value: 'id', checkStrictly: item.checkStrictly\r\n        }\" :placeholder=\"item.placeholder\" clearable />\r\n        <el-select v-if=\"item.type==='select'\" v-model=\"waitSearch[item.field]\" size=\"mini\" :placeholder=\"item.placeholder?item.placeholder:item.name\" :loading=\"loading\" clearable>\r\n          <el-option v-for=\"citem in item.options\" :key=\"citem.id\" :label=\"citem.name\" :value=\"citem.id\" />\r\n        </el-select>\r\n        <el-input v-if=\"item.type==='input'\" v-model=\"waitSearch[item.field]\" size=\"mini\" :placeholder=\"item.placeholder?item.placeholder:item.name\" clearable />\r\n        <el-date-picker v-if=\"item.type==='date'\" v-model=\"waitSearch[item.field]\" size=\"mini\" type=\"daterange\" :start-placeholder=\"item.placeholder?item.placeholder:item.name+'：从'\" :end-placeholder=\"item.placeholder?item.placeholder:item.name+'：到'\" />\r\n      </div>\r\n      <div class=\"search-item search-button\">\r\n        <el-button size=\"mini\" type=\"success\" icon=\"el-icon-search\" @click=\"searchClick('notCommon')\">搜索</el-button>\r\n        <el-button size=\"mini\" plain icon=\"el-icon-refresh-left\" @click=\"reset()\">重置</el-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { resetForm } from '@/utils/common'\r\nimport _ from 'lodash'\r\nexport default {\r\n  name: 'BtnSearch',\r\n  // 默认情况下，一个组件上的 v-model 会把 value 用作 prop 且把 input 用作 event\r\n  model: {\r\n    prop: 'value', // 注意，是prop，不带s\r\n    event: 'input'\r\n  },\r\n  props: {\r\n    value: { type: [Object, String], default: '' }, // 父组件 v-model 绑定值\r\n    // 不显示高级搜索\r\n    noAdvancedSearch: { type: Boolean, default: false },\r\n    searchItems: { type: Array, default: () => [] },\r\n    placeholder: { type: String, default: '请输入名称' },\r\n    searchName: { type: [String, Array], default: '' }\r\n  },\r\n  data() {\r\n    return {\r\n      waitSearch: [],\r\n      input: '',\r\n      options: [],\r\n      currentField: '',\r\n      loading: false\r\n    }\r\n  },\r\n  watch: {\r\n    // waitSearch: {\r\n    //   handler(newVal) {\r\n    //     // 父组件有 v-model 时的操作\r\n    //     this.$emit('input', newVal)\r\n    //     // 是否是空字符串（no-advanced-search === true）\r\n    //     const blankString = getValueType(newVal) === 'string' && newVal === ''\r\n    //     // 是否是对象并且对象中的值全为空（no-advanced-search === false）\r\n    //     const blankStringObject = getValueType(newVal) === 'object' && isObjEmpty(newVal)\r\n    //     if (blankString || blankStringObject) {\r\n    //       this.$emit('search', newVal)\r\n    //     }\r\n    //   },\r\n    //   deep: true\r\n    // }\r\n  },\r\n  create() {\r\n    this.waitSearch = _.cloneDeep(this.value)\r\n  },\r\n  methods: {\r\n    async handleFocus(val) {\r\n      // if (this.currentField === val.field) return\r\n      // this.currentField = val.field\r\n      // const index = this.searchItems.findIndex(item => item.field === val.field)\r\n      // if (index >= 0) {\r\n      //   try {\r\n      //     if (val.type === 'cascader') {\r\n      //       const res = await treeAPI.getAllNodes({\r\n      //         keyWords: val.keyWords,\r\n      //         virtualRootFlag: false\r\n      //       })\r\n      //       // 除去children\r\n      //       this.searchItems[index].options = JSON.parse(\r\n      //         JSON.stringify(res.data).replace(/\\\"children\"\\:\\[]/g, '\"no\":0')\r\n      //       )\r\n      //     } else if (val.type === 'select') {\r\n      //       const res = await listAPI.getSomeRecords({\r\n      //         keyWords: val.keyWords, pageInfo: { page: -1 }\r\n      //       })\r\n      //       this.searchItems[index].options = res.data.content\r\n      //     }\r\n      //     this.loading = false\r\n      //   } catch (error) {\r\n      //     this.loading = false\r\n      //   }\r\n      // }\r\n      // this.$emit('focus', val.field)\r\n    },\r\n    searchClick(type) {\r\n      // this.$emit('search-click', this.waitSearch)\r\n      if (type === 'common') {\r\n        this.$emit('search-click', this.input)\r\n      } else {\r\n        this.$emit('advanced-search-click', this.waitSearch)\r\n      }\r\n    },\r\n    reset() {\r\n      this.waitSearch = resetForm(this.waitSearch)\r\n      // this.$emit('search-click', this.waitSearch)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"~@/assets/css/variables.scss\";\r\n#search-box {\r\n  margin-bottom: 20px;\r\n}\r\n.no-advanced-search {\r\n  display: flex;\r\n  .el-button {\r\n    margin-left: 10px;\r\n  }\r\n}\r\n.advanced-search-field-box {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));\r\n  gap: 10px;\r\n  .el-button + .el-button {\r\n    margin-left: 10px;\r\n  }\r\n}\r\n// .el-button.is-plain:hover {\r\n  // border-color: $--color-subsidiary;\r\n  // color: $--color-subsidiary;\r\n// }\r\n</style>\r\n"],"sourceRoot":"src/components"}]}