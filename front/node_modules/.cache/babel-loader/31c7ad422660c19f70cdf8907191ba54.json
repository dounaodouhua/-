{"remainingRequest":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\babel-loader\\lib\\index.js!D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\src\\views\\system-manage\\Role.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\src\\views\\system-manage\\Role.vue","mtime":1741681639028},{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Microsoft VS Code\\vs code\\软件项目管理\\大实例\\前后端源码\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9NaWNyb3NvZnQgVlMgQ29kZS92cyBjb2RlL1x1OEY2Rlx1NEVGNlx1OTg3OVx1NzZFRVx1N0JBMVx1NzQwNi9cdTU5MjdcdTVCOUVcdTRGOEIvXHU1MjREXHU1NDBFXHU3QUVGXHU2RTkwXHU3ODAxL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHJvbGVBUEkgZnJvbSAnQC9hcGkvcm9sZSc7CmltcG9ydCBCYXNlTGlzdCBmcm9tICdAL3ZpZXdzL21hc3Rlci1wYWdlL0Jhc2VMaXN0JzsKaW1wb3J0IGFkYXB0aXZlIGZyb20gJ0AvZGlyZWN0aXZlL2VsLXRhYmxlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSb2xlJywKICBjb21wb25lbnRzOiB7CiAgICBCYXNlTGlzdDogQmFzZUxpc3QKICB9LAogIGRpcmVjdGl2ZXM6IHsKICAgIGFkYXB0aXZlOiBhZGFwdGl2ZQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIHRpdGxlPSLop5LoibLliJfooagiIDpjdXJkPSJjdXJkIiA6ZWRpdC1rZXktd29yZHM9ImVkaXRLZXlXb3JkcyIgOnZpZXcta2V5LXdvcmRzPSJlZGl0S2V5V29yZHMiCiAgICAgIGRlZmF1bHRCTFByb3BzOiB7CiAgICAgICAgZGVmYXVsdERUTFByb3BzOiB7CiAgICAgICAgICBzb3J0U3RyOiB7CiAgICAgICAgICAgIHByb3BlcnRpZXM6ICd0aGVPcmRlcicsCiAgICAgICAgICAgIGRpcmVjdGlvbjogJ0FTQycKICAgICAgICAgIH0sCiAgICAgICAgICAvLyDmjpLluo/mlrnms5UKICAgICAgICAgIHRpdGxlOiB7CiAgICAgICAgICAgIG1haW5UaXRsZTogJ+inkuiJsuWIl+ihqCcKICAgICAgICAgIH0sCiAgICAgICAgICBkZWZhdWx0RFRIUHJvcHM6IHsKICAgICAgICAgICAga2V5V29yZDogewogICAgICAgICAgICAgIGVkaXQ6ICdTeXNSb2xlJwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBkZWZhdWx0U0RQcm9wczogewogICAgICAgICAga2V5V29yZDogJ1N5c1JvbGUnLAogICAgICAgICAgZGVmYXVsdERCUHJvcHM6IHsKICAgICAgICAgICAgZGlhbG9nOiB7fQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgdHJlZURhdGE6IFtdLAogICAgICBjdXJyZW50Q29sdW1uOiAnJywKICAgICAgcGFyZW50QXJyOiBbXSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHNhdmVMb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAnY3VycmVudENvbHVtbi5pZCc6IGZ1bmN0aW9uIGN1cnJlbnRDb2x1bW5JZCh2YWwpIHsKICAgICAgdGhpcy5pbml0RGF0YVRyZWUoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXREYXRhVHJlZTogZnVuY3Rpb24gaW5pdERhdGFUcmVlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmN1cnJlbnRDb2x1bW4uaWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gcm9sZUFQSS5nZXRSb2xlUGVybWlzc2lvbnMoX3RoaXMuY3VycmVudENvbHVtbi5pZCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMudHJlZURhdGEgPSByZXNwLmRhdGE7CgogICAgICAgICAgICAgICAgX3RoaXMuaW5pdEFsbE5vZGVzKCk7CgogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTE7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5Yid5aeL5YyW5omA5pyJ6IqC54K55L+h5oGvCiAgICBpbml0QWxsTm9kZXM6IGZ1bmN0aW9uIGluaXRBbGxOb2RlcygpIHsKICAgICAgdGhpcy50cmVlRGF0YVswXS5hdXRob3JpemF0aW9uSW5mby52aXNpYmxlRmxhZyA9IHRydWU7CiAgICAgIHRoaXMudHJlZURhdGFbMF0uYXV0aG9yaXphdGlvbkluZm8uYWRkRmxhZyA9IHRydWU7CiAgICAgIHRoaXMudHJlZURhdGFbMF0uYXV0aG9yaXphdGlvbkluZm8ubW9kaWZ5RmxhZyA9IHRydWU7CiAgICAgIHRoaXMudHJlZURhdGFbMF0uYXV0aG9yaXphdGlvbkluZm8uZGVsZXRlRmxhZyA9IHRydWU7CiAgICAgIHRoaXMudHJlZURhdGFbMF0uYXV0aG9yaXphdGlvbkFsbEZsYWcgPSB0cnVlOwogICAgICB0aGlzLmluaXRDYWxsRnVuYyh0aGlzLnRyZWVEYXRhLCAnYXV0aG9yaXphdGlvbkFsbEZsYWcnKTsKICAgICAgdGhpcy5pbml0Q2FsbEZ1bmModGhpcy50cmVlRGF0YSwgJ3Zpc2libGVGbGFnJyk7CiAgICAgIHRoaXMuaW5pdENhbGxGdW5jKHRoaXMudHJlZURhdGEsICdhZGRGbGFnJyk7CiAgICAgIHRoaXMuaW5pdENhbGxGdW5jKHRoaXMudHJlZURhdGEsICdtb2RpZnlGbGFnJyk7CiAgICAgIHRoaXMuaW5pdENhbGxGdW5jKHRoaXMudHJlZURhdGEsICdkZWxldGVGbGFnJyk7CiAgICB9LAogICAgLy8g5aKe5Yig5pS55p+l55qE6IGU5YqoCiAgICBpbml0Q2FsbEZ1bmM6IGZ1bmN0aW9uIGluaXRDYWxsRnVuYygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgdmFsID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0aGlzLnRyZWVEYXRhOwogICAgICB2YXIgcHJvcCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkOwoKICAgICAgaWYgKHByb3AgPT09ICdhdXRob3JpemF0aW9uQWxsRmxhZycpIHsKICAgICAgICB2YWwuZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgaWYgKGVbcHJvcF0gPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczIudHJlZURhdGFbMF1bcHJvcF0gPSBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZS5jaGlsZHJlbiAmJiBlLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgICBfdGhpczIuaW5pdENhbGxGdW5jKGUuY2hpbGRyZW4sIHByb3ApOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHZhbC5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBpZiAoZS5hdXRob3JpemF0aW9uSW5mb1twcm9wXSA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMi50cmVlRGF0YVswXS5hdXRob3JpemF0aW9uSW5mb1twcm9wXSA9IGZhbHNlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChlLmNoaWxkcmVuICYmIGUuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICAgIF90aGlzMi5pbml0Q2FsbEZ1bmMoZS5jaGlsZHJlbiwgcHJvcCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDlm57osIPlvqrnjq/lh73mlbAKICAgIGFsbENhbGxGdW5jOiBmdW5jdGlvbiBhbGxDYWxsRnVuYyh2YWwsIHN0YXR1cykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICh2YWwuY2hpbGRyZW4gJiYgdmFsLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgICB2YWwuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgZS5hdXRob3JpemF0aW9uQWxsRmxhZyA9IHN0YXR1czsKICAgICAgICAgIGUuYXV0aG9yaXphdGlvbkluZm8udmlzaWJsZUZsYWcgPSBlLmF1dGhvcml6YXRpb25JbmZvLmFkZEZsYWcgPSBlLmF1dGhvcml6YXRpb25JbmZvLm1vZGlmeUZsYWcgPSBlLmF1dGhvcml6YXRpb25JbmZvLmRlbGV0ZUZsYWcgPSBzdGF0dXM7CgogICAgICAgICAgX3RoaXMzLmFsbENhbGxGdW5jKGUsIHN0YXR1cyk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHZhciBwaWRzID0gW107CiAgICAgIHRoaXMuZ2V0UGFyZW50Tm9kZXModGhpcy50cmVlRGF0YSwgdmFsLmlkLCBwaWRzKTsKICAgICAgdGhpcy5wYXJlbnROb2Rlc0NoYW5nZSh0aGlzLnRyZWVEYXRhLCBwaWRzLCB2YWwpOwogICAgfSwKICAgIC8vIOWNleS4quWbnuiwg+WHveaVsAogICAgc2luZ2xlQ2FsbEZ1bmM6IGZ1bmN0aW9uIHNpbmdsZUNhbGxGdW5jKHZhbCwgcHJvcCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIGlmICh2YWwuY2hpbGRyZW4gJiYgdmFsLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgICB2YWwuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgcHJvcCA9PT0gJ3Zpc2libGVGbGFnJyA/IGUuYXV0aG9yaXphdGlvbkluZm8udmlzaWJsZUZsYWcgPSB2YWwuYXV0aG9yaXphdGlvbkluZm8udmlzaWJsZUZsYWcgOiAnJzsKICAgICAgICAgIHByb3AgPT09ICdhZGRGbGFnJyA/IGUuYXV0aG9yaXphdGlvbkluZm8uYWRkRmxhZyA9IHZhbC5hdXRob3JpemF0aW9uSW5mby5hZGRGbGFnIDogJyc7CiAgICAgICAgICBwcm9wID09PSAnbW9kaWZ5RmxhZycgPyBlLmF1dGhvcml6YXRpb25JbmZvLm1vZGlmeUZsYWcgPSB2YWwuYXV0aG9yaXphdGlvbkluZm8ubW9kaWZ5RmxhZyA6ICcnOwogICAgICAgICAgcHJvcCA9PT0gJ2RlbGV0ZUZsYWcnID8gZS5hdXRob3JpemF0aW9uSW5mby5kZWxldGVGbGFnID0gdmFsLmF1dGhvcml6YXRpb25JbmZvLmRlbGV0ZUZsYWcgOiAnJzsgLy8g5pu05paw5YWo6YCJLemdnuWFqOmAieeahOWGheWuuQoKICAgICAgICAgIGUuYXV0aG9yaXphdGlvbkFsbEZsYWcgPSBmYWxzZTsKCiAgICAgICAgICBpZiAoZS5hdXRob3JpemF0aW9uSW5mby52aXNpYmxlRmxhZyA9PT0gdHJ1ZSAmJiBlLmF1dGhvcml6YXRpb25JbmZvLmFkZEZsYWcgPT09IHRydWUgJiYgZS5hdXRob3JpemF0aW9uSW5mby5tb2RpZnlGbGFnID09PSB0cnVlICYmIGUuYXV0aG9yaXphdGlvbkluZm8uZGVsZXRlRmxhZyA9PT0gdHJ1ZSkgewogICAgICAgICAgICBlLmF1dGhvcml6YXRpb25BbGxGbGFnID0gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSBpZiAodmFsLmF1dGhvcml6YXRpb25JbmZvLnZpc2libGVGbGFnID09PSBmYWxzZSAmJiB2YWwuYXV0aG9yaXphdGlvbkluZm8uYWRkRmxhZyA9PT0gZmFsc2UgJiYgdmFsLmF1dGhvcml6YXRpb25JbmZvLm1vZGlmeUZsYWcgPT09IGZhbHNlICYmIHZhbC5hdXRob3JpemF0aW9uSW5mby5kZWxldGVGbGFnID09PSBmYWxzZSkgewogICAgICAgICAgICBlLmF1dGhvcml6YXRpb25BbGxGbGFnID0gZmFsc2U7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXM0LnNpbmdsZUNhbGxGdW5jKGUsIHByb3ApOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB2YXIgcGlkcyA9IFtdOwogICAgICB0aGlzLmdldFBhcmVudE5vZGVzKHRoaXMudHJlZURhdGEsIHZhbC5pZCwgcGlkcyk7CiAgICAgIHRoaXMucGFyZW50Tm9kZXNDaGFuZ2UodGhpcy50cmVlRGF0YSwgcGlkcywgdmFsKTsKICAgIH0sCiAgICAvLyDlvZPliY3ooYznmoTmlLnlj5gKICAgIHVwZGF0ZUNvbHVtbjogZnVuY3Rpb24gdXBkYXRlQ29sdW1uKHZhbCkgewogICAgICB0aGlzLmN1cnJlbnRDb2x1bW4gPSB2YWw7CiAgICB9LAogICAgLy8g6I635Y+W5q+P5bGC54i26IqC54K555qE6IqC54K55pWw57uECiAgICBnZXRQYXJlbnROb2RlczogZnVuY3Rpb24gZ2V0UGFyZW50Tm9kZXModmFsLCBpZCwgYXJyKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFsLmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoZS5pZCA9PT0gaWQpIHsKICAgICAgICAgIGlmIChlLnBhcmVudElkKSB7CiAgICAgICAgICAgIC8vIOaOkumZpOmhtue6p+iZmuiKgueCuWlkPS0xCiAgICAgICAgICAgIGFyci5wdXNoKGUucGFyZW50SWQpOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzNS5nZXRQYXJlbnROb2RlcyhfdGhpczUudHJlZURhdGEsIGUucGFyZW50SWQsIGFycik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChlLmNoaWxkcmVuICYmIGUuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICAgIF90aGlzNS5nZXRQYXJlbnROb2RlcyhlLmNoaWxkcmVuLCBpZCwgYXJyKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHBhcmVudE5vZGVzQ2hhbmdlOiBmdW5jdGlvbiBwYXJlbnROb2Rlc0NoYW5nZShhcnIsIHBpZHMsIHZhbCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKHBpZHMuaW5kZXhPZihlLmlkKSA+IC0xKSB7CiAgICAgICAgICB2YWwuYXV0aG9yaXphdGlvbkluZm8udmlzaWJsZUZsYWcgPyBlLmF1dGhvcml6YXRpb25JbmZvLnZpc2libGVGbGFnID0gdHJ1ZSA6ICcnOwogICAgICAgICAgdmFsLmF1dGhvcml6YXRpb25JbmZvLmFkZEZsYWcgPyBlLmF1dGhvcml6YXRpb25JbmZvLmFkZEZsYWcgPSB0cnVlIDogJyc7CiAgICAgICAgICB2YWwuYXV0aG9yaXphdGlvbkluZm8ubW9kaWZ5RmxhZyA/IGUuYXV0aG9yaXphdGlvbkluZm8ubW9kaWZ5RmxhZyA9IHRydWUgOiAnJzsKICAgICAgICAgIHZhbC5hdXRob3JpemF0aW9uSW5mby5kZWxldGVGbGFnID8gZS5hdXRob3JpemF0aW9uSW5mby5kZWxldGVGbGFnID0gdHJ1ZSA6ICcnOwogICAgICAgICAgZS5hdXRob3JpemF0aW9uQWxsRmxhZyA9IGZhbHNlOwoKICAgICAgICAgIGlmIChlLmF1dGhvcml6YXRpb25JbmZvLnZpc2libGVGbGFnID09PSB0cnVlICYmIGUuYXV0aG9yaXphdGlvbkluZm8uYWRkRmxhZyA9PT0gdHJ1ZSAmJiBlLmF1dGhvcml6YXRpb25JbmZvLm1vZGlmeUZsYWcgPT09IHRydWUgJiYgZS5hdXRob3JpemF0aW9uSW5mby5kZWxldGVGbGFnID09PSB0cnVlKSB7CiAgICAgICAgICAgIGUuYXV0aG9yaXphdGlvbkFsbEZsYWcgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIGlmICh2YWwuYXV0aG9yaXphdGlvbkluZm8udmlzaWJsZUZsYWcgPT09IGZhbHNlICYmIHZhbC5hdXRob3JpemF0aW9uSW5mby5hZGRGbGFnID09PSBmYWxzZSAmJiB2YWwuYXV0aG9yaXphdGlvbkluZm8ubW9kaWZ5RmxhZyA9PT0gZmFsc2UgJiYgdmFsLmF1dGhvcml6YXRpb25JbmZvLmRlbGV0ZUZsYWcgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIGUuYXV0aG9yaXphdGlvbkFsbEZsYWcgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChlLmNoaWxkcmVuICYmIGUuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICBfdGhpczYucGFyZW50Tm9kZXNDaGFuZ2UoZS5jaGlsZHJlbiwgcGlkcywgdmFsKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOagkeiKgueCueeahOiBlOWKqAogICAgcGFyZW50Tm9kZUNoYW5nZTogZnVuY3Rpb24gcGFyZW50Tm9kZUNoYW5nZSh2YWwpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICBpZiAodmFsLmNoaWxkcmVuICYmIHZhbC5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICB2YWwuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHsKICAgICAgICAgIGlmIChjaGlsZC5hdXRob3JpemF0aW9uSW5mby52aXNpYmxlRmxhZyA9PT0gdHJ1ZSkgewogICAgICAgICAgICByZXR1cm4gdmFsLmF1dGhvcml6YXRpb25JbmZvLnZpc2libGVGbGFnID0gdHJ1ZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzNy5wYXJlbnROb2RlQ2hhbmdlKGNoaWxkKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8vIOWFqOmAiQogICAgaGFuZGxlQ2hlY2tBbGxDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoZWNrQWxsQ2hhbmdlKHZhbCwgdmFsMikgewogICAgICBpZiAodmFsMi5hdXRob3JpemF0aW9uQWxsRmxhZykgewogICAgICAgIHZhbC52aXNpYmxlRmxhZyA9IHZhbC5hZGRGbGFnID0gdmFsLm1vZGlmeUZsYWcgPSB2YWwuZGVsZXRlRmxhZyA9IHRydWU7CiAgICAgICAgdGhpcy5hbGxDYWxsRnVuYyh2YWwyLCB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YWwudmlzaWJsZUZsYWcgPSB2YWwuYWRkRmxhZyA9IHZhbC5tb2RpZnlGbGFnID0gdmFsLmRlbGV0ZUZsYWcgPSBmYWxzZTsKICAgICAgICB0aGlzLmFsbENhbGxGdW5jKHZhbDIsIGZhbHNlKTsKICAgICAgfQoKICAgICAgdGhpcy50cmVlRGF0YVswXS5hdXRob3JpemF0aW9uQWxsRmxhZyA9IHRydWU7CiAgICAgIHRoaXMuaW5pdEFsbE5vZGVzKCk7CiAgICB9LAogICAgLy8g5pS55Y+Y5Y2V5Liq5qGG55qE5Y+Y5YyWCiAgICBoYW5kbGVTaW5nbGVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNpbmdsZUNoYW5nZSh2YWwsIHZhbDIsIHByb3ApIHsKICAgICAgdmFsMi5yb3cuYXV0aG9yaXphdGlvbkFsbEZsYWcgPSBmYWxzZTsKCiAgICAgIGlmICh2YWwudmlzaWJsZUZsYWcgPT09IHRydWUgJiYgdmFsLmFkZEZsYWcgPT09IHRydWUgJiYgdmFsLm1vZGlmeUZsYWcgPT09IHRydWUgJiYgdmFsLmRlbGV0ZUZsYWcgPT09IHRydWUpIHsKICAgICAgICAvLyDkvb/nlKhzY29wZS5yb3fnm7TmjqXotYvlgLzmsqHmnInmlYjmnpwKICAgICAgICB2YWwyLnJvdy5hdXRob3JpemF0aW9uQWxsRmxhZyA9IHRydWU7CiAgICAgIH0gZWxzZSBpZiAodmFsLnZpc2libGVGbGFnID09PSBmYWxzZSAmJiB2YWwuYWRkRmxhZyA9PT0gZmFsc2UgJiYgdmFsLm1vZGlmeUZsYWcgPT09IGZhbHNlICYmIHZhbC5kZWxldGVGbGFnID09PSBmYWxzZSkgewogICAgICAgIHZhbDIucm93LmF1dGhvcml6YXRpb25BbGxGbGFnID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIHRoaXMuc2luZ2xlQ2FsbEZ1bmModmFsMi5yb3csIHByb3ApOwogICAgICB0aGlzLnRyZWVEYXRhWzBdLmF1dGhvcml6YXRpb25BbGxGbGFnID0gdHJ1ZTsKICAgICAgdGhpcy5pbml0QWxsTm9kZXMoKTsKICAgIH0sCiAgICAvLyDkv53lrZjmnYPpmZAKICAgIHNhdmVSb2xlTWVudXM6IGZ1bmN0aW9uIHNhdmVSb2xlTWVudXMoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF90aGlzOC5zYXZlTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gcm9sZUFQSS5lZGl0Um9sZVBlcm1pc3Npb24oX3RoaXM4LmN1cnJlbnRDb2x1bW4uaWQsIF90aGlzOC50cmVlRGF0YVswXSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF90aGlzOC5zYXZlTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICAgIF90aGlzOC4kbWVzc2FnZS5zdWNjZXNzKCfkv53lrZjmiJDlip/vvIEnKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gODsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIF90aGlzOC5zYXZlTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzAsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Role.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,OAAA,OAAA,MAAA,YAAA;AACA,OAAA,QAAA,MAAA,8BAAA;AACA,OAAA,QAAA,MAAA,sBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,QAAA,EAAA;AAAA,GAFA;AAGA,EAAA,UAAA,EAAA;AAAA,IAAA,QAAA,EAAA;AAAA,GAHA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA;AACA,MAAA,cAAA,EAAA;AACA,QAAA,eAAA,EAAA;AACA,UAAA,OAAA,EAAA;AAAA,YAAA,UAAA,EAAA,UAAA;AAAA,YAAA,SAAA,EAAA;AAAA,WADA;AACA;AACA,UAAA,KAAA,EAAA;AAAA,YAAA,SAAA,EAAA;AAAA,WAFA;AAGA,UAAA,eAAA,EAAA;AACA,YAAA,OAAA,EAAA;AAAA,cAAA,IAAA,EAAA;AAAA;AADA;AAHA,SADA;AAQA,QAAA,cAAA,EAAA;AACA,UAAA,OAAA,EAAA,SADA;AAEA,UAAA,cAAA,EAAA;AACA,YAAA,MAAA,EAAA;AADA;AAFA;AARA,OAFA;AAkBA,MAAA,QAAA,EAAA,EAlBA;AAmBA,MAAA,aAAA,EAAA,EAnBA;AAoBA,MAAA,SAAA,EAAA,EApBA;AAqBA,MAAA,OAAA,EAAA,KArBA;AAsBA,MAAA,WAAA,EAAA;AAtBA,KAAA;AAwBA,GA7BA;AA+BA,EAAA,KAAA,EAAA;AACA,sBADA,2BACA,GADA,EACA;AACA,WAAA,YAAA;AACA;AAHA,GA/BA;AAqCA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,aAAA,CAAA,EADA;AAAA;AAAA;AAAA;;AAAA;AAGA,gBAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AAHA;AAAA,uBAIA,OAAA,CAAA,kBAAA,CAAA,KAAA,CAAA,aAAA,CAAA,EAAA,CAJA;;AAAA;AAIA,gBAAA,IAJA;AAKA,gBAAA,KAAA,CAAA,QAAA,GAAA,IAAA,CAAA,IAAA;;AACA,gBAAA,KAAA,CAAA,YAAA;;AACA,gBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AAPA;AAAA;;AAAA;AAAA;AAAA;AASA,gBAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA,KAbA;AAcA;AACA,IAAA,YAfA,0BAeA;AACA,WAAA,QAAA,CAAA,CAAA,EAAA,iBAAA,CAAA,WAAA,GAAA,IAAA;AACA,WAAA,QAAA,CAAA,CAAA,EAAA,iBAAA,CAAA,OAAA,GAAA,IAAA;AACA,WAAA,QAAA,CAAA,CAAA,EAAA,iBAAA,CAAA,UAAA,GAAA,IAAA;AACA,WAAA,QAAA,CAAA,CAAA,EAAA,iBAAA,CAAA,UAAA,GAAA,IAAA;AACA,WAAA,QAAA,CAAA,CAAA,EAAA,oBAAA,GAAA,IAAA;AACA,WAAA,YAAA,CAAA,KAAA,QAAA,EAAA,sBAAA;AACA,WAAA,YAAA,CAAA,KAAA,QAAA,EAAA,aAAA;AACA,WAAA,YAAA,CAAA,KAAA,QAAA,EAAA,SAAA;AACA,WAAA,YAAA,CAAA,KAAA,QAAA,EAAA,YAAA;AACA,WAAA,YAAA,CAAA,KAAA,QAAA,EAAA,YAAA;AACA,KA1BA;AA2BA;AACA,IAAA,YA5BA,0BA4BA;AAAA;;AAAA,UAAA,GAAA,uEAAA,KAAA,QAAA;AAAA,UAAA,IAAA;;AACA,UAAA,IAAA,KAAA,sBAAA,EAAA;AACA,QAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,CAAA,CAAA,IAAA,CAAA,KAAA,KAAA,EAAA;AACA,mBAAA,MAAA,CAAA,QAAA,CAAA,CAAA,EAAA,IAAA,IAAA,KAAA;AACA;;AACA,cAAA,CAAA,CAAA,QAAA,IAAA,CAAA,CAAA,QAAA,CAAA,MAAA,EAAA;AACA,YAAA,MAAA,CAAA,YAAA,CAAA,CAAA,CAAA,QAAA,EAAA,IAAA;AACA;AACA,SAPA;AAQA,OATA,MASA;AACA,QAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,cAAA,CAAA,CAAA,iBAAA,CAAA,IAAA,MAAA,KAAA,EAAA;AACA,mBAAA,MAAA,CAAA,QAAA,CAAA,CAAA,EAAA,iBAAA,CAAA,IAAA,IAAA,KAAA;AACA;;AACA,cAAA,CAAA,CAAA,QAAA,IAAA,CAAA,CAAA,QAAA,CAAA,MAAA,EAAA;AACA,YAAA,MAAA,CAAA,YAAA,CAAA,CAAA,CAAA,QAAA,EAAA,IAAA;AACA;AACA,SAPA;AAQA;AACA,KAhDA;AAiDA;AACA,IAAA,WAlDA,uBAkDA,GAlDA,EAkDA,MAlDA,EAkDA;AAAA;;AACA,UAAA,GAAA,CAAA,QAAA,IAAA,GAAA,CAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,GAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,CAAA,CAAA,oBAAA,GAAA,MAAA;AACA,UAAA,CAAA,CAAA,iBAAA,CAAA,WAAA,GAAA,CAAA,CAAA,iBAAA,CAAA,OAAA,GAAA,CAAA,CAAA,iBAAA,CAAA,UAAA,GAAA,CAAA,CAAA,iBAAA,CAAA,UAAA,GAAA,MAAA;;AACA,UAAA,MAAA,CAAA,WAAA,CAAA,CAAA,EAAA,MAAA;AACA,SAJA;AAKA;;AACA,UAAA,IAAA,GAAA,EAAA;AACA,WAAA,cAAA,CAAA,KAAA,QAAA,EAAA,GAAA,CAAA,EAAA,EAAA,IAAA;AACA,WAAA,iBAAA,CAAA,KAAA,QAAA,EAAA,IAAA,EAAA,GAAA;AACA,KA7DA;AA8DA;AACA,IAAA,cA/DA,0BA+DA,GA/DA,EA+DA,IA/DA,EA+DA;AAAA;;AACA,UAAA,GAAA,CAAA,QAAA,IAAA,GAAA,CAAA,QAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,GAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,KAAA,aAAA,GAAA,CAAA,CAAA,iBAAA,CAAA,WAAA,GAAA,GAAA,CAAA,iBAAA,CAAA,WAAA,GAAA,EAAA;AACA,UAAA,IAAA,KAAA,SAAA,GAAA,CAAA,CAAA,iBAAA,CAAA,OAAA,GAAA,GAAA,CAAA,iBAAA,CAAA,OAAA,GAAA,EAAA;AACA,UAAA,IAAA,KAAA,YAAA,GAAA,CAAA,CAAA,iBAAA,CAAA,UAAA,GAAA,GAAA,CAAA,iBAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,IAAA,KAAA,YAAA,GAAA,CAAA,CAAA,iBAAA,CAAA,UAAA,GAAA,GAAA,CAAA,iBAAA,CAAA,UAAA,GAAA,EAAA,CAJA,CAMA;;AACA,UAAA,CAAA,CAAA,oBAAA,GAAA,KAAA;;AACA,cACA,CAAA,CAAA,iBAAA,CAAA,WAAA,KAAA,IAAA,IAAA,CAAA,CAAA,iBAAA,CAAA,OAAA,KAAA,IAAA,IACA,CAAA,CAAA,iBAAA,CAAA,UAAA,KAAA,IADA,IACA,CAAA,CAAA,iBAAA,CAAA,UAAA,KAAA,IAFA,EAGA;AACA,YAAA,CAAA,CAAA,oBAAA,GAAA,IAAA;AACA,WALA,MAKA,IACA,GAAA,CAAA,iBAAA,CAAA,WAAA,KAAA,KAAA,IAAA,GAAA,CAAA,iBAAA,CAAA,OAAA,KAAA,KAAA,IACA,GAAA,CAAA,iBAAA,CAAA,UAAA,KAAA,KADA,IACA,GAAA,CAAA,iBAAA,CAAA,UAAA,KAAA,KAFA,EAGA;AACA,YAAA,CAAA,CAAA,oBAAA,GAAA,KAAA;AACA;;AACA,UAAA,MAAA,CAAA,cAAA,CAAA,CAAA,EAAA,IAAA;AACA,SApBA;AAqBA;;AACA,UAAA,IAAA,GAAA,EAAA;AACA,WAAA,cAAA,CAAA,KAAA,QAAA,EAAA,GAAA,CAAA,EAAA,EAAA,IAAA;AACA,WAAA,iBAAA,CAAA,KAAA,QAAA,EAAA,IAAA,EAAA,GAAA;AACA,KA1FA;AA2FA;AACA,IAAA,YA5FA,wBA4FA,GA5FA,EA4FA;AACA,WAAA,aAAA,GAAA,GAAA;AACA,KA9FA;AA+FA;AACA,IAAA,cAhGA,0BAgGA,GAhGA,EAgGA,EAhGA,EAgGA,GAhGA,EAgGA;AAAA;;AACA,MAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,CAAA,CAAA,EAAA,KAAA,EAAA,EAAA;AACA,cAAA,CAAA,CAAA,QAAA,EAAA;AACA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,CAAA,CAAA,QAAA;AACA;;AACA,UAAA,MAAA,CAAA,cAAA,CAAA,MAAA,CAAA,QAAA,EAAA,CAAA,CAAA,QAAA,EAAA,GAAA;AACA,SANA,MAMA;AACA,cAAA,CAAA,CAAA,QAAA,IAAA,CAAA,CAAA,QAAA,CAAA,MAAA,EAAA;AACA,YAAA,MAAA,CAAA,cAAA,CAAA,CAAA,CAAA,QAAA,EAAA,EAAA,EAAA,GAAA;AACA;AACA;AACA,OAZA;AAaA,KA9GA;AA+GA,IAAA,iBA/GA,6BA+GA,GA/GA,EA+GA,IA/GA,EA+GA,GA/GA,EA+GA;AAAA;;AACA,MAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,IAAA,CAAA,OAAA,CAAA,CAAA,CAAA,EAAA,IAAA,CAAA,CAAA,EAAA;AACA,UAAA,GAAA,CAAA,iBAAA,CAAA,WAAA,GAAA,CAAA,CAAA,iBAAA,CAAA,WAAA,GAAA,IAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,iBAAA,CAAA,OAAA,GAAA,CAAA,CAAA,iBAAA,CAAA,OAAA,GAAA,IAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,iBAAA,CAAA,UAAA,GAAA,CAAA,CAAA,iBAAA,CAAA,UAAA,GAAA,IAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,iBAAA,CAAA,UAAA,GAAA,CAAA,CAAA,iBAAA,CAAA,UAAA,GAAA,IAAA,GAAA,EAAA;AACA,UAAA,CAAA,CAAA,oBAAA,GAAA,KAAA;;AACA,cACA,CAAA,CAAA,iBAAA,CAAA,WAAA,KAAA,IAAA,IAAA,CAAA,CAAA,iBAAA,CAAA,OAAA,KAAA,IAAA,IACA,CAAA,CAAA,iBAAA,CAAA,UAAA,KAAA,IADA,IACA,CAAA,CAAA,iBAAA,CAAA,UAAA,KAAA,IAFA,EAGA;AACA,YAAA,CAAA,CAAA,oBAAA,GAAA,IAAA;AACA,WALA,MAKA,IACA,GAAA,CAAA,iBAAA,CAAA,WAAA,KAAA,KAAA,IAAA,GAAA,CAAA,iBAAA,CAAA,OAAA,KAAA,KAAA,IACA,GAAA,CAAA,iBAAA,CAAA,UAAA,KAAA,KADA,IACA,GAAA,CAAA,iBAAA,CAAA,UAAA,KAAA,KAFA,EAGA;AACA,YAAA,CAAA,CAAA,oBAAA,GAAA,KAAA;AACA;AACA;;AACA,YAAA,CAAA,CAAA,QAAA,IAAA,CAAA,CAAA,QAAA,CAAA,MAAA,EAAA;AACA,UAAA,MAAA,CAAA,iBAAA,CAAA,CAAA,CAAA,QAAA,EAAA,IAAA,EAAA,GAAA;AACA;AACA,OAtBA;AAuBA,KAvIA;AAwIA;AACA,IAAA,gBAzIA,4BAyIA,GAzIA,EAyIA;AAAA;;AACA,UAAA,GAAA,CAAA,QAAA,IAAA,GAAA,CAAA,QAAA,CAAA,MAAA,EAAA;AACA,QAAA,GAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,KAAA,EAAA;AACA,cAAA,KAAA,CAAA,iBAAA,CAAA,WAAA,KAAA,IAAA,EAAA;AACA,mBAAA,GAAA,CAAA,iBAAA,CAAA,WAAA,GAAA,IAAA;AACA,WAFA,MAEA;AACA,YAAA,MAAA,CAAA,gBAAA,CAAA,KAAA;AACA;AACA,SANA;AAOA;AACA,KAnJA;AAoJA;AACA,IAAA,oBArJA,gCAqJA,GArJA,EAqJA,IArJA,EAqJA;AACA,UAAA,IAAA,CAAA,oBAAA,EAAA;AACA,QAAA,GAAA,CAAA,WAAA,GAAA,GAAA,CAAA,OAAA,GAAA,GAAA,CAAA,UAAA,GAAA,GAAA,CAAA,UAAA,GAAA,IAAA;AACA,aAAA,WAAA,CAAA,IAAA,EAAA,IAAA;AACA,OAHA,MAGA;AACA,QAAA,GAAA,CAAA,WAAA,GAAA,GAAA,CAAA,OAAA,GAAA,GAAA,CAAA,UAAA,GAAA,GAAA,CAAA,UAAA,GAAA,KAAA;AACA,aAAA,WAAA,CAAA,IAAA,EAAA,KAAA;AACA;;AACA,WAAA,QAAA,CAAA,CAAA,EAAA,oBAAA,GAAA,IAAA;AACA,WAAA,YAAA;AACA,KA/JA;AAgKA;AACA,IAAA,kBAjKA,8BAiKA,GAjKA,EAiKA,IAjKA,EAiKA,IAjKA,EAiKA;AACA,MAAA,IAAA,CAAA,GAAA,CAAA,oBAAA,GAAA,KAAA;;AACA,UACA,GAAA,CAAA,WAAA,KAAA,IAAA,IAAA,GAAA,CAAA,OAAA,KAAA,IAAA,IAAA,GAAA,CAAA,UAAA,KAAA,IAAA,IAAA,GAAA,CAAA,UAAA,KAAA,IADA,EAEA;AACA;AACA,QAAA,IAAA,CAAA,GAAA,CAAA,oBAAA,GAAA,IAAA;AACA,OALA,MAKA,IACA,GAAA,CAAA,WAAA,KAAA,KAAA,IAAA,GAAA,CAAA,OAAA,KAAA,KAAA,IAAA,GAAA,CAAA,UAAA,KAAA,KAAA,IAAA,GAAA,CAAA,UAAA,KAAA,KADA,EAEA;AACA,QAAA,IAAA,CAAA,GAAA,CAAA,oBAAA,GAAA,KAAA;AACA;;AAEA,WAAA,cAAA,CAAA,IAAA,CAAA,GAAA,EAAA,IAAA;AACA,WAAA,QAAA,CAAA,CAAA,EAAA,oBAAA,GAAA,IAAA;AACA,WAAA,YAAA;AACA,KAjLA;AAmLA;AACA,IAAA,aApLA,2BAoLA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,MAAA,CAAA,WAAA,GAAA,IAAA;AAFA;AAAA,uBAGA,OAAA,CAAA,kBAAA,CAAA,MAAA,CAAA,aAAA,CAAA,EAAA,EAAA,MAAA,CAAA,QAAA,CAAA,CAAA,CAAA,CAHA;;AAAA;AAIA,gBAAA,MAAA,CAAA,WAAA,GAAA,KAAA;;AACA,gBAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,OAAA;;AALA;AAAA;;AAAA;AAAA;AAAA;AAOA,gBAAA,MAAA,CAAA,WAAA,GAAA,KAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AA7LA;AArCA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"box-flex\">\r\n      <div style=\"width: 45%\">\r\n        <BaseList :default-props=\"defaultBLProps\" @update-column=\"updateColumn\" />\r\n      </div>\r\n      <!-- 列表右侧-->\r\n      <div style=\"width:53%; \">\r\n        <el-card shadow=\"never\">\r\n          <div slot=\"header\">\r\n            <span title=\"选择指定角色分配菜单\">角色授权 | <strong>{{ currentColumn.name || \"--\" }}</strong></span>\r\n            <el-button :disabled=\"!currentColumn\" :loading=\"saveLoading\" size=\"mini\" style=\"float: right;padding: 6px 9px;margin-top:-5px\" type=\"primary\" :title=\"currentColumn ? '' : '请在左边列表选择一个角色'\" @click=\"saveRoleMenus\">保存</el-button>\r\n          </div>\r\n          <el-table ref=\"dataTree\" v-adaptive=\"{ noPage: true }\" v-loading=\"loading\" :data=\"treeData\" height=\"100%\" row-key=\"id\" :expand-row-keys=\"['-1']\">\r\n            <el-table-column prop=\"name\" label=\"名称\" width=\"150\" :show-overflow-tooltip=\"true\" />\r\n            <el-table-column label=\"查询\">\r\n              <template slot-scope=\"scope\">\r\n                <el-checkbox v-model=\"scope.row.authorizationInfo.visibleFlag\" @change=\"handleSingleChange( scope.row.authorizationInfo, scope, 'visibleFlag' )\" />\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"添加\">\r\n              <template slot-scope=\"scope\">\r\n                <el-checkbox v-model=\"scope.row.authorizationInfo.addFlag\" @change=\"handleSingleChange(scope.row.authorizationInfo,scope,'addFlag' )\" />\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"修改\">\r\n              <template slot-scope=\"scope\">\r\n                <el-checkbox v-model=\"scope.row.authorizationInfo.modifyFlag\" @change=\"handleSingleChange( scope.row.authorizationInfo, scope, 'modifyFlag' )\" />\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"删除\">\r\n              <template slot-scope=\"scope\">\r\n                <el-checkbox v-model=\"scope.row.authorizationInfo.deleteFlag\" @change=\" handleSingleChange( scope.row.authorizationInfo, scope, 'deleteFlag' )\" />\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"全部\">\r\n              <template slot-scope=\"scope\">\r\n                <el-checkbox v-model=\"scope.row.authorizationAllFlag\" :indeterminate=\" (\r\n                  scope.row.authorizationInfo.visibleFlag | scope.row.authorizationInfo.addFlag ||scope.row.authorizationInfo.modifyFlag || scope.row.authorizationInfo.deleteFlag)\r\n                  && !scope.row.authorizationAllFlag\" @change=\"handleCheckAllChange(scope.row.authorizationInfo, scope.row)\" />\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-card>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport roleAPI from '@/api/role'\r\nimport BaseList from '@/views/master-page/BaseList'\r\nimport adaptive from '@/directive/el-table'\r\nexport default {\r\n  name: 'Role',\r\n  components: { BaseList },\r\n  directives: { adaptive },\r\n  data() {\r\n    return {\r\n      // title=\"角色列表\" :curd=\"curd\" :edit-key-words=\"editKeyWords\" :view-key-words=\"editKeyWords\"\r\n      defaultBLProps: {\r\n        defaultDTLProps: {\r\n          sortStr: { properties: 'theOrder', direction: 'ASC' }, // 排序方法\r\n          title: { mainTitle: '角色列表' },\r\n          defaultDTHProps: {\r\n            keyWord: { edit: 'SysRole' }\r\n          }\r\n        },\r\n        defaultSDProps: {\r\n          keyWord: 'SysRole',\r\n          defaultDBProps: {\r\n            dialog: {}\r\n          }\r\n        }\r\n      },\r\n\r\n      treeData: [],\r\n      currentColumn: '',\r\n      parentArr: [],\r\n      loading: false,\r\n      saveLoading: false\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    'currentColumn.id'(val) {\r\n      this.initDataTree()\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async initDataTree() {\r\n      if (this.currentColumn.id) {\r\n        try {\r\n          this.loading = true\r\n          const resp = await roleAPI.getRolePermissions(this.currentColumn.id)\r\n          this.treeData = resp.data\r\n          this.initAllNodes()\r\n          this.loading = false\r\n        } catch (error) {\r\n          this.loading = false\r\n        }\r\n      }\r\n    },\r\n    // 初始化所有节点信息\r\n    initAllNodes() {\r\n      this.treeData[0].authorizationInfo.visibleFlag = true\r\n      this.treeData[0].authorizationInfo.addFlag = true\r\n      this.treeData[0].authorizationInfo.modifyFlag = true\r\n      this.treeData[0].authorizationInfo.deleteFlag = true\r\n      this.treeData[0].authorizationAllFlag = true\r\n      this.initCallFunc(this.treeData, 'authorizationAllFlag')\r\n      this.initCallFunc(this.treeData, 'visibleFlag')\r\n      this.initCallFunc(this.treeData, 'addFlag')\r\n      this.initCallFunc(this.treeData, 'modifyFlag')\r\n      this.initCallFunc(this.treeData, 'deleteFlag')\r\n    },\r\n    // 增删改查的联动\r\n    initCallFunc(val = this.treeData, prop) {\r\n      if (prop === 'authorizationAllFlag') {\r\n        val.forEach(e => {\r\n          if (e[prop] === false) {\r\n            return (this.treeData[0][prop] = false)\r\n          }\r\n          if (e.children && e.children.length) {\r\n            this.initCallFunc(e.children, prop)\r\n          }\r\n        })\r\n      } else {\r\n        val.forEach(e => {\r\n          if (e.authorizationInfo[prop] === false) {\r\n            return (this.treeData[0].authorizationInfo[prop] = false)\r\n          }\r\n          if (e.children && e.children.length) {\r\n            this.initCallFunc(e.children, prop)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    // 回调循环函数\r\n    allCallFunc(val, status) {\r\n      if (val.children && val.children.length > 0) {\r\n        val.children.forEach(e => {\r\n          e.authorizationAllFlag = status\r\n          e.authorizationInfo.visibleFlag = e.authorizationInfo.addFlag = e.authorizationInfo.modifyFlag = e.authorizationInfo.deleteFlag = status\r\n          this.allCallFunc(e, status)\r\n        })\r\n      }\r\n      const pids = []\r\n      this.getParentNodes(this.treeData, val.id, pids)\r\n      this.parentNodesChange(this.treeData, pids, val)\r\n    },\r\n    // 单个回调函数\r\n    singleCallFunc(val, prop) {\r\n      if (val.children && val.children.length > 0) {\r\n        val.children.forEach(e => {\r\n          prop === 'visibleFlag' ? (e.authorizationInfo.visibleFlag = val.authorizationInfo.visibleFlag) : ''\r\n          prop === 'addFlag' ? (e.authorizationInfo.addFlag = val.authorizationInfo.addFlag) : ''\r\n          prop === 'modifyFlag' ? (e.authorizationInfo.modifyFlag = val.authorizationInfo.modifyFlag) : ''\r\n          prop === 'deleteFlag' ? (e.authorizationInfo.deleteFlag = val.authorizationInfo.deleteFlag) : ''\r\n\r\n          // 更新全选-非全选的内容\r\n          e.authorizationAllFlag = false\r\n          if (\r\n            e.authorizationInfo.visibleFlag === true && e.authorizationInfo.addFlag === true &&\r\n            e.authorizationInfo.modifyFlag === true && e.authorizationInfo.deleteFlag === true\r\n          ) {\r\n            e.authorizationAllFlag = true\r\n          } else if (\r\n            val.authorizationInfo.visibleFlag === false && val.authorizationInfo.addFlag === false &&\r\n            val.authorizationInfo.modifyFlag === false && val.authorizationInfo.deleteFlag === false\r\n          ) {\r\n            e.authorizationAllFlag = false\r\n          }\r\n          this.singleCallFunc(e, prop)\r\n        })\r\n      }\r\n      const pids = []\r\n      this.getParentNodes(this.treeData, val.id, pids)\r\n      this.parentNodesChange(this.treeData, pids, val)\r\n    },\r\n    // 当前行的改变\r\n    updateColumn(val) {\r\n      this.currentColumn = val\r\n    },\r\n    // 获取每层父节点的节点数组\r\n    getParentNodes(val, id, arr) {\r\n      val.forEach(e => {\r\n        if (e.id === id) {\r\n          if (e.parentId) {\r\n            // 排除顶级虚节点id=-1\r\n            arr.push(e.parentId)\r\n          }\r\n          this.getParentNodes(this.treeData, e.parentId, arr)\r\n        } else {\r\n          if (e.children && e.children.length) {\r\n            this.getParentNodes(e.children, id, arr)\r\n          }\r\n        }\r\n      })\r\n    },\r\n    parentNodesChange(arr, pids, val) {\r\n      arr.forEach(e => {\r\n        if (pids.indexOf(e.id) > -1) {\r\n          val.authorizationInfo.visibleFlag ? (e.authorizationInfo.visibleFlag = true) : ''\r\n          val.authorizationInfo.addFlag ? (e.authorizationInfo.addFlag = true) : ''\r\n          val.authorizationInfo.modifyFlag ? (e.authorizationInfo.modifyFlag = true) : ''\r\n          val.authorizationInfo.deleteFlag ? (e.authorizationInfo.deleteFlag = true) : ''\r\n          e.authorizationAllFlag = false\r\n          if (\r\n            e.authorizationInfo.visibleFlag === true && e.authorizationInfo.addFlag === true &&\r\n            e.authorizationInfo.modifyFlag === true && e.authorizationInfo.deleteFlag === true\r\n          ) {\r\n            e.authorizationAllFlag = true\r\n          } else if (\r\n            val.authorizationInfo.visibleFlag === false && val.authorizationInfo.addFlag === false &&\r\n            val.authorizationInfo.modifyFlag === false && val.authorizationInfo.deleteFlag === false\r\n          ) {\r\n            e.authorizationAllFlag = false\r\n          }\r\n        }\r\n        if (e.children && e.children.length) {\r\n          this.parentNodesChange(e.children, pids, val)\r\n        }\r\n      })\r\n    },\r\n    // 树节点的联动\r\n    parentNodeChange(val) {\r\n      if (val.children && val.children.length) {\r\n        val.children.forEach(child => {\r\n          if (child.authorizationInfo.visibleFlag === true) {\r\n            return (val.authorizationInfo.visibleFlag = true)\r\n          } else {\r\n            this.parentNodeChange(child)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    // 全选\r\n    handleCheckAllChange(val, val2) {\r\n      if (val2.authorizationAllFlag) {\r\n        val.visibleFlag = val.addFlag = val.modifyFlag = val.deleteFlag = true\r\n        this.allCallFunc(val2, true)\r\n      } else {\r\n        val.visibleFlag = val.addFlag = val.modifyFlag = val.deleteFlag = false\r\n        this.allCallFunc(val2, false)\r\n      }\r\n      this.treeData[0].authorizationAllFlag = true\r\n      this.initAllNodes()\r\n    },\r\n    // 改变单个框的变化\r\n    handleSingleChange(val, val2, prop) {\r\n      val2.row.authorizationAllFlag = false\r\n      if (\r\n        val.visibleFlag === true && val.addFlag === true && val.modifyFlag === true && val.deleteFlag === true\r\n      ) {\r\n        // 使用scope.row直接赋值没有效果\r\n        val2.row.authorizationAllFlag = true\r\n      } else if (\r\n        val.visibleFlag === false && val.addFlag === false && val.modifyFlag === false && val.deleteFlag === false\r\n      ) {\r\n        val2.row.authorizationAllFlag = false\r\n      }\r\n\r\n      this.singleCallFunc(val2.row, prop)\r\n      this.treeData[0].authorizationAllFlag = true\r\n      this.initAllNodes()\r\n    },\r\n\r\n    // 保存权限\r\n    async saveRoleMenus() {\r\n      try {\r\n        this.saveLoading = true\r\n        await roleAPI.editRolePermission(this.currentColumn.id, this.treeData[0])\r\n        this.saveLoading = false\r\n        this.$message.success('保存成功！')\r\n      } catch (error) {\r\n        this.saveLoading = false\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n::v-deep .el-card__body {\r\n  padding: 0;\r\n}\r\n.box-flex {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/system-manage"}]}